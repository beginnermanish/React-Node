{"version":3,"sources":["webpack:///./client/app/components/common/Navigation.js?5308"],"names":["Navigation","createClass","getInitialState","props","state","menuItems","componentWillMount","localStorage","menuData","data","JSON","parse","componentDidMount","menu","refs","$","metisMenu","componentDidUpdate","activeRoute","routeName","location","pathname","indexOf","secondLevelActive","onMenuItemClick","path","contaxt","toLowerCase","context","router","push","onMainIconClick","onLogOut","deauthenticateUser","clear","window","cordova","navigator","app","toggleNavigation","e","jQuery","width","toggleClass","hasClass","removeClass","addClass","render","menus","me","getImageSrc","length","map","menuItem","index","isChild","subMenuItems","items","label","item","Icon_file","Caption","bind","submenuItem","index1","Name","Menu_name","replace","contextTypes","PropTypes","object","isRequired"],"mappings":"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","file":"1.a859175a97bee1674199.hot-update.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { Link, Location, browserHistory } from 'react-router';\r\nimport Auth from '../../services/Auth';\r\nimport { smoothlyMenu } from '../layouts/Helpers';\r\nimport util from '../../util';\r\n\r\nvar Navigation = React.createClass({\r\n    getInitialState: function (props) {\r\n        this.state = this.state ? this.state : {};\r\n        this.state.menuItems = this.state.menuItems ? this.state.menuItems : [];\r\n        return this.state;\r\n    },\r\n    componentWillMount() {\r\n        if (localStorage.menuData) {\r\n            var data = JSON.parse(localStorage.menuData);\r\n            this.state.menuItems = data;\r\n        }\r\n    },\r\n    componentDidMount() {\r\n        const { menu } = this.refs;\r\n        $(menu).metisMenu();\r\n    },\r\n    componentDidUpdate: function () {\r\n        const { menu } = this.refs;\r\n        $(menu).metisMenu();\r\n    },\r\n\r\n    activeRoute(routeName) {\r\n        return this.props.location.pathname.indexOf(routeName) > -1 ? \"active\" : \"\";\r\n    },\r\n\r\n    secondLevelActive(routeName) {\r\n        return this.props.location.pathname.indexOf(routeName) > -1 ? \"nav nav-second-level collapse in\" : \"nav nav-second-level collapse\";\r\n    },\r\n\r\n    onMenuItemClick(path, contaxt) {\r\n        path = path.toLowerCase();\r\n        this.context.router.push('/' + path);\r\n    },\r\n\r\n    onMainIconClick() {\r\n        this.context.router.push('/main');\r\n    },\r\n\r\n    onLogOut() {\r\n        Auth.deauthenticateUser();\r\n        browserHistory.push('#/login');\r\n        localStorage.clear();\r\n\r\n        if (window.cordova && navigator && navigator.app) {\r\n            //navigator.app.exitApp();\r\n        }\r\n    },\r\n    toggleNavigation(e) {\r\n        if (jQuery(window).width() <= 768) {\r\n            $(\"body\").toggleClass(\"mini-navbar\");\r\n            if ($(\"body\").hasClass(\"mini-navbar\")) {\r\n                $(\"body\").removeClass('cust-fix-titlebar');\r\n            }\r\n            else {\r\n                $(\"body\").addClass('cust-fix-titlebar');\r\n            }\r\n            smoothlyMenu();\r\n        }\r\n    },\r\n\r\n    render() {\r\n        var menus = this.state.menuItems;\r\n        var me = this;\r\n        return (\r\n            <nav className=\"navbar-default navbar-static-side\" role=\"navigation\" >\r\n                <div className=\"sidebar-collapse\">\r\n                    <img src={util.getImageSrc(\"img/logo.png\")} className=\"header-logo\" onClick={this.onMainIconClick} />\r\n                    <ul className=\"nav metismenu\" id=\"side-menu\" ref=\"menu\">\r\n                        <li className=\"nav-header text-center\">\r\n                            <div className=\"dropdown profile-element\">\r\n                                <a className=\"dropdown-toggle\">\r\n                                    <span className=\"clear\">\r\n                                        <span className=\"block m-t-xs\"> <strong className=\"font-bold\">Demo</strong></span>\r\n                                    </span>\r\n                                </a>\r\n                            </div>\r\n                            <div className=\"logo-element\">\r\n                                Trac On\r\n                            </div>\r\n                        </li>\r\n                        {\r\n\r\n                            menus.length > 0 ? menus.map(function (menuItem, index) {\r\n                                var isChild = false;\r\n                                var subMenuItems = menuItem.items;\r\n                                if (subMenuItems != null && subMenuItems.length > 0) {\r\n                                    isChild = true;\r\n                                }\r\n\r\n                                if (!isChild) {\r\n\r\n                                    return (<li key={index} className={this.activeRoute(\"/\" + menuItem.label)}>\r\n                                        <Link to={\"/\"}>\r\n                                            <i>\r\n                                                <img src={util.getImageSrc('img/menu-icons/' + menuItem.item.Icon_file + \"_16.png\")} />\r\n                                            </i>\r\n                                            <span className=\"nav-label\">{menuItem.Caption}</span>\r\n                                        </Link>\r\n                                    </li>)\r\n                                }\r\n                                else {\r\n                                    return (<li key={index} className={this.activeRoute(\"/\" + menuItem.label)}>\r\n                                        <Link to={\"/\"} onClick={this.onMenuItemClick.bind(this, menuItem.label)}>\r\n                                            <i>\r\n                                                <img src={util.getImageSrc('img/menu-icons/' + menuItem.item.Icon_file + \"_16.png\")} />\r\n                                            </i>\r\n                                            <span className=\"nav-label\">{menuItem.Caption}</span> <span className=\"fa arrow\"></span>\r\n                                        </Link>\r\n                                        <ul className={this.secondLevelActive(\"/\" + menuItem.label)} >\r\n                                            {subMenuItems.map(function (submenuItem, index1) {\r\n                                                if (submenuItem.item.Name) {\r\n                                                    return (\r\n                                                        <li key={index1} className={this.activeRoute(\"/\" + submenuItem.item.Name.toLowerCase())}>\r\n                                                            <Link onClick={this.toggleNavigation} to={\"/\" + submenuItem.item.Menu_name.toLowerCase() + \"/\" + submenuItem.item.Name.toLowerCase().replace(\" \", \"-\")}>\r\n                                                                <i>\r\n                                                                    <img src={util.getImageSrc('img/menu-icons/' + submenuItem.item.Icon_file + \"_16.png\")} />\r\n                                                                </i>\r\n                                                                <span className=\"nav-label\">{submenuItem.item.Caption}</span>\r\n                                                            </Link>\r\n                                                        </li>\r\n                                                    );\r\n                                                }\r\n                                            }, this)\r\n                                            }\r\n                                        </ul>\r\n                                    </li>)\r\n                                }\r\n                            }, this) : null\r\n                        }\r\n\r\n                        <li className={this.activeRoute(\"/logout\")}>\r\n                            <Link to={\"/\"} onClick={this.onLogOut}>\r\n                                <i className=\"fa fa-sign-out\"></i>\r\n                                <span className=\"nav-label\">Logout</span>\r\n                            </Link>\r\n                        </li>)\r\n                    </ul>\r\n                </div>\r\n            </nav >\r\n        )\r\n    }\r\n});\r\n\r\nNavigation.contextTypes = {\r\n    router: React.PropTypes.object.isRequired\r\n};\r\n\r\nexport default Navigation;\n\n\n// WEBPACK FOOTER //\n// ./client/app/components/common/Navigation.js"],"sourceRoot":""}